version: "3.1"

rules:
- rule: welcome user
  conversation_start: true  # this rule only applies at the beginning of a conversation
  steps:
    - intent: greet
    - action: utter_ask_filter_criteria

- rule: Say goodbye anytime the user says goodbye
  steps:
  - intent: goodbye
  - action: utter_goodbye

- rule: Cheer up user if he is feeling down
  steps:
  - intent: mood_unhappy
  - action: utter_cheer_up

- rule: Say 'I am a bot' anytime the user challenges
  steps:
  - intent: bot_challenge
  - action: utter_iamabot

- rule: Ask the user to rephrase whenever NLU confidence score is low
  steps:
  - intent: nlu_fallback
  - action: utter_please_rephrase

- rule: Ask the user to rephrase whenever user-inputted message is out of scope
  steps:
  - intent: out_of_scope
  - action: utter_please_rephrase

- rule: Get sheet music by casting
  steps:
  - intent: get_sheet_music_by_casting
  - action: action_get_sheet_music_by_casting

- rule: Composer selected
  steps:
  - intent: composer_is_selected
  - action: action_get_sheet_music_by_casting

- rule: Genre selected
  steps:
  - intent: genre_is_selected
  - action: action_get_sheet_music_by_casting

- rule: Display results
  steps:
  - intent: display_results
  - action: action_display_results